{"ast":null,"code":"import React,{useEffect,Fragment}from'react';import{Link}from'react-router-dom';import{connect}from'react-redux';import{getUserProfile,deleteAccount}from'../../actions/profileActs';import{getUserPets}from'../../actions/petActs';import PetBar from'../PetProfile/showPets/PetBar';import spinner from'../../img/spinner.gif';import DashLinks from'./DashLinks';var Dashboard=function Dashboard(_ref){var getUserProfile=_ref.getUserProfile,deleteAccount=_ref.deleteAccount,getUserPets=_ref.getUserPets,user=_ref.auth.user,_ref$profile=_ref.profile,loading=_ref$profile.loading,profile=_ref$profile.profile,pets=_ref.pets;useEffect(function(){getUserProfile();getUserPets();},[getUserProfile,getUserPets]);return loading&&profile===null?React.createElement(\"img\",{src:spinner,alt:\"Loading...\"}):React.createElement(Fragment,null,React.createElement(\"span\",{className:\"profileImage\"},React.createElement(Link,{to:\"/profiles/profilePicture/update\"},React.createElement(\"button\",null,\"Edit\"),React.createElement(\"img\",{src:profile&&profile.profileImage?profile.profileImage:user&&user.avatar,alt:\"profile image\"}))),React.createElement(\"h1\",{className:\"large text-primary\"},\"Home Page\"),React.createElement(\"p\",{className:\"lead\"},React.createElement(\"i\",{className:\"fas fa-user\"}),\"Welcome \",user&&user.name),profile&&profile.birthDay?React.createElement(Fragment,null,React.createElement(PetBar,{pets:pets}),React.createElement(DashLinks,null)):React.createElement(Fragment,null,React.createElement(\"p\",null,\"You don't have a profile,\"),React.createElement(\"p\",null,\"for setting one, please click on \\\"Create Profile\\\"\"),React.createElement(\"br\",null),React.createElement(Link,{to:\"/profiles/new\",className:\"btn btn-primary my-1\"},\"Create Profile\")),React.createElement(\"div\",{className:\"my-2\"},React.createElement(\"button\",{className:\"btn btn-danger\",onClick:function onClick(){return deleteAccount();}},\"Delete My Account\")));};var mapStateToProps=function mapStateToProps(state){return{auth:state.auth,profile:state.profile,pets:state.pets.pets};};export default connect(mapStateToProps,{getUserProfile:getUserProfile,deleteAccount:deleteAccount,getUserPets:getUserPets})(Dashboard);","map":{"version":3,"sources":["C:/Users/shahar/Desktop/webS/MyProjacts/ChatPet/client-side/src/components/dashboard/Dashboard.js"],"names":["React","useEffect","Fragment","Link","connect","getUserProfile","deleteAccount","getUserPets","PetBar","spinner","DashLinks","Dashboard","user","auth","profile","loading","pets","profileImage","avatar","name","birthDay","mapStateToProps","state"],"mappings":"AAAA,MAAOA,CAAAA,KAAP,EAAeC,SAAf,CAA0BC,QAA1B,KAAyC,OAAzC,CACA,OAAQC,IAAR,KAAmB,kBAAnB,CAEA,OAAQC,OAAR,KAAsB,aAAtB,CAEA,OAAQC,cAAR,CAAwBC,aAAxB,KACO,2BADP,CAEA,OAAQC,WAAR,KACO,uBADP,CAGA,MAAOC,CAAAA,MAAP,KAAmB,+BAAnB,CACA,MAAOC,CAAAA,OAAP,KAAoB,uBAApB,CACA,MAAOC,CAAAA,SAAP,KAAsB,aAAtB,CAEA,GAAMC,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,MAUR,IATNN,CAAAA,cASM,MATNA,cASM,CARNC,aAQM,MARNA,aAQM,CAPNC,WAOM,MAPNA,WAOM,CANCK,IAMD,MANNC,IAMM,CANCD,IAMD,mBALNE,OAKM,CAJFC,OAIE,cAJFA,OAIE,CAHFD,OAGE,cAHFA,OAGE,CADNE,IACM,MADNA,IACM,CACNf,SAAS,CAAC,UAAM,CACZI,cAAc,GACdE,WAAW,GACZ,CAHM,CAGJ,CAACF,cAAD,CAAiBE,WAAjB,CAHI,CAAT,CAKA,MACIQ,CAAAA,OAAO,EAAID,OAAO,GAAK,IAAvB,CACA,2BAAK,GAAG,CAAEL,OAAV,CAAmB,GAAG,CAAC,YAAvB,EADA,CAEK,oBAAC,QAAD,MACD,4BAAM,SAAS,CAAC,cAAhB,EACA,oBAAC,IAAD,EAAM,EAAE,CAAC,iCAAT,EACA,yCADA,CAEC,2BAAM,GAAG,CAAEK,OAAO,EAAIA,OAAO,CAACG,YAAnB,CACPH,OAAO,CAACG,YADD,CACgBL,IAAI,EAAIA,IAAI,CAACM,MADxC,CAEI,GAAG,CAAC,eAFR,EAFD,CADA,CADC,CAQA,0BAAI,SAAS,CAAC,oBAAd,cARA,CASO,yBAAG,SAAS,CAAC,MAAb,EACA,yBAAG,SAAS,CAAC,aAAb,EADA,YAESN,IAAI,EAAIA,IAAI,CAACO,IAFtB,CATP,CAYIL,OAAO,EAAIA,OAAO,CAACM,QAAnB,CACD,oBAAC,QAAD,MACA,oBAAC,MAAD,EAAQ,IAAI,CAAEJ,IAAd,EADA,CAEA,oBAAC,SAAD,MAFA,CADC,CAMD,oBAAC,QAAD,MACI,yDADJ,CAEI,mFAFJ,CAE4D,8BAF5D,CAGI,oBAAC,IAAD,EAAM,EAAE,CAAC,eAAT,CAAyB,SAAS,CAAC,sBAAnC,mBAHJ,CAlBH,CA0BG,2BAAK,SAAS,CAAC,MAAf,EACA,8BAAQ,SAAS,CAAC,gBAAlB,CAAmC,OAAO,CAAE,yBACvCV,CAAAA,aAAa,EAD0B,EAA5C,sBADA,CA1BH,CAHT,CAqCH,CArDD,CAuDA,GAAMe,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,CAAAC,KAAK,QAAI,CAC7BT,IAAI,CAAES,KAAK,CAACT,IADiB,CAE7BC,OAAO,CAAEQ,KAAK,CAACR,OAFc,CAG7BE,IAAI,CAAEM,KAAK,CAACN,IAAN,CAAWA,IAHY,CAAJ,EAA7B,CAeA,cAAeZ,CAAAA,OAAO,CAACiB,eAAD,CACtB,CAAEhB,cAAc,CAAdA,cAAF,CAAkBC,aAAa,CAAbA,aAAlB,CAAiCC,WAAW,CAAXA,WAAjC,CADsB,CAAP,CACgCI,SADhC,CAAf","sourcesContent":["import React, {useEffect, Fragment} from 'react'\r\nimport {Link} from 'react-router-dom'\r\nimport PropTypes from 'prop-types'\r\nimport {connect} from 'react-redux'\r\n\r\nimport {getUserProfile, deleteAccount \r\n} from '../../actions/profileActs'\r\nimport {getUserPets\r\n} from '../../actions/petActs'\r\n\r\nimport PetBar from '../PetProfile/showPets/PetBar'\r\nimport spinner from '../../img/spinner.gif'\r\nimport DashLinks from './DashLinks'\r\n\r\nconst Dashboard = ({\r\n    getUserProfile,\r\n    deleteAccount,\r\n    getUserPets,\r\n    auth: {user},\r\n    profile:{\r\n        loading,\r\n        profile,\r\n    },\r\n    pets\r\n    }) => {\r\n    useEffect(() => {\r\n        getUserProfile()\r\n        getUserPets()\r\n      }, [getUserProfile, getUserPets])\r\n\r\n    return (\r\n        loading && profile === null ? \r\n        <img src={spinner} alt='Loading...'\r\n        /> : <Fragment >\r\n            <span className='profileImage'>\r\n            <Link to='/profiles/profilePicture/update' >\r\n            <button>Edit</button>\r\n             <img  src={profile && profile.profileImage ? (\r\n                 profile.profileImage):(user && user.avatar)}\r\n                 alt='profile image' />\r\n             </Link></span> \r\n             <h1 className='large text-primary'>Home Page</h1>\r\n                    <p className='lead'>\r\n                    <i className='fas fa-user'></i>\r\n                    Welcome {user && user.name}</p>\r\n                {profile && profile.birthDay ? (\r\n                <Fragment>    \r\n                <PetBar pets={pets}/>\r\n                <DashLinks/>\r\n                </Fragment>\r\n                ) :(\r\n                <Fragment>\r\n                    <p>You don't have a profile,</p>\r\n                    <p>for setting one, please click on \"Create Profile\"</p><br/>\r\n                    <Link to='/profiles/new' className='btn btn-primary my-1'>\r\n                        Create Profile\r\n                    </Link>\r\n                </Fragment>\r\n                )}\r\n                <div className='my-2'>\r\n                <button className='btn btn-danger' onClick={() =>\r\n                     deleteAccount()}>\r\n                     Delete My Account\r\n                </button>\r\n                </div>\r\n             </Fragment>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = state =>({\r\n    auth: state.auth,\r\n    profile: state.profile,\r\n    pets: state.pets.pets\r\n})\r\n\r\nDashboard.propTypes = {\r\n    getUserProfile: PropTypes.func.isRequired,\r\n    deleteAccount: PropTypes.func.isRequired,\r\n    getUserPets: PropTypes.func.isRequired,\r\n    auth: PropTypes.object.isRequired,\r\n    profile: PropTypes.object.isRequired,\r\n    pets: PropTypes.array.isRequired\r\n}\r\n\r\nexport default connect(mapStateToProps,\r\n{ getUserProfile, deleteAccount, getUserPets})(Dashboard)\r\n"]},"metadata":{},"sourceType":"module"}