{"ast":null,"code":"import _objectSpread from \"C:\\\\Users\\\\shahar\\\\Desktop\\\\webS\\\\MyProjacts\\\\ChatPet\\\\client-side\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";\nimport _slicedToArray from \"C:\\\\Users\\\\shahar\\\\Desktop\\\\webS\\\\MyProjacts\\\\ChatPet\\\\client-side\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\shahar\\\\Desktop\\\\webS\\\\MyProjacts\\\\ChatPet\\\\client-side\\\\src\\\\components\\\\PetProfile\\\\forms\\\\CreatePetProfile.js\";\nimport React, { Fragment, useState } from 'react';\nimport { createPet } from '../../../actions/petActs';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { withRouter } from 'react-router-dom';\nimport Dropzone from '../../imageSetting/Dropezone';\nimport PetImage from '../petImage';\nimport Grid from '@material-ui/core/Grid';\n\nconst CreatePetProfile = ({\n  createPet,\n  history\n}) => {\n  const _useState = useState([{\n    src: '',\n    info: ''\n  }]),\n        _useState2 = _slicedToArray(_useState, 2),\n        images = _useState2[0],\n        setImages = _useState2[1];\n\n  const _useState3 = useState({\n    profileImage: '',\n    name: '',\n    sex: '',\n    type: '',\n    race: '',\n    age: null,\n    descreption: '',\n    traind: false,\n    cost: ''\n  }),\n        _useState4 = _slicedToArray(_useState3, 2),\n        petFormData = _useState4[0],\n        setPetFormData = _useState4[1];\n\n  const _useState5 = useState(false),\n        _useState6 = _slicedToArray(_useState5, 2),\n        addImages = _useState6[0],\n        setAddImages = _useState6[1];\n\n  const getBase64 = image => {\n    return new Promise((resolve, reject) => {\n      const reader = new FileReader();\n\n      reader.onload = () => resolve(reader.result);\n\n      reader.onerror = error => reject(error);\n\n      reader.readAsDataURL(image);\n    });\n  };\n\n  const fixImages = () => {\n    const photos = images;\n    photos.shift();\n    setPetFormData(_objectSpread({}, petFormData, {\n      [petFormData.profileImage]: images[0]\n    }));\n    setImages(photos);\n  };\n\n  const onDrop = async e => {\n    setImages([...images, {\n      id: images.length,\n      src: await getBase64(e[0]),\n      info: ''\n    }]);\n  };\n\n  const onChange = e => {\n    setPetFormData(_objectSpread({}, petFormData, {\n      [e.target.name]: e.target.value\n    }));\n  };\n\n  const addInfo = (e, id) => {\n    const photos = images;\n    photos[id].info = e.target.value;\n    setImages(photos);\n  };\n\n  const sentData = async e => {\n    e.preventDefault(); // await fixImages()\n\n    await createPet(petFormData, images, history);\n    setAddImages(true);\n  };\n\n  return React.createElement(Fragment, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78\n    },\n    __self: this\n  }, React.createElement(\"section\", {\n    className: \"container\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79\n    },\n    __self: this\n  }, React.createElement(\"h1\", {\n    className: \"large text-primary\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80\n    },\n    __self: this\n  }, \"Create Your Pet Profile\"), React.createElement(\"p\", {\n    className: \"lead\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83\n    },\n    __self: this\n  }, React.createElement(\"i\", {\n    className: \"fas fa-pet\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84\n    },\n    __self: this\n  }), \" Let's get some information about your pet\"), React.createElement(\"small\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86\n    },\n    __self: this\n  }, \"* = required field\"), React.createElement(\"form\", {\n    className: \"form\",\n    onSubmit: e => sentData(e),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"form-group\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88\n    },\n    __self: this\n  }, React.createElement(\"input\", {\n    type: \"text\",\n    placeholder: \"* Pet's Name\",\n    name: \"name\",\n    onChange: e => onChange(e),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89\n    },\n    __self: this\n  }), React.createElement(\"small\", {\n    className: \"form-text\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91\n    },\n    __self: this\n  }, \"This is how your pet will be presented\")), React.createElement(\"div\", {\n    className: \"form-group\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95\n    },\n    __self: this\n  }, React.createElement(\"select\", {\n    name: \"sex\",\n    onChange: e => onChange(e),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96\n    },\n    __self: this\n  }, React.createElement(\"option\", {\n    value: \"0\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97\n    },\n    __self: this\n  }, \"* Select Your Pet Gender\"), React.createElement(\"option\", {\n    value: \"male\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98\n    },\n    __self: this\n  }, \"Male\"), React.createElement(\"option\", {\n    value: \"female\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99\n    },\n    __self: this\n  }, \"female\"), React.createElement(\"option\", {\n    value: \"other\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100\n    },\n    __self: this\n  }, \"Other\"))), React.createElement(\"div\", {\n    className: \"form-group\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103\n    },\n    __self: this\n  }, React.createElement(\"input\", {\n    type: \"text\",\n    placeholder: \"Pet's Type\",\n    name: \"type\",\n    onChange: e => onChange(e),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104\n    },\n    __self: this\n  }), React.createElement(\"small\", {\n    className: \"form-text\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106\n    },\n    __self: this\n  }, \"What Kind Of Animal Is It?\")), React.createElement(\"div\", {\n    className: \"form-group\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109\n    },\n    __self: this\n  }, React.createElement(\"input\", {\n    type: \"text\",\n    placeholder: \"Pet's Race\",\n    name: \"race\",\n    onChange: e => onChange(e),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110\n    },\n    __self: this\n  }), React.createElement(\"small\", {\n    className: \"form-text\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112\n    },\n    __self: this\n  }, \"Only If You Know\")), React.createElement(\"label\", {\n    className: \"checkBox\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115\n    },\n    __self: this\n  }, \"Is Your Pet Traind?\", React.createElement(\"input\", {\n    type: \"checkbox\",\n    name: \"traind\",\n    onChange: () => {\n      setPetFormData(_objectSpread({}, petFormData, {\n        traind: !petFormData.traind\n      }));\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116\n    },\n    __self: this\n  }), React.createElement(\"span\", {\n    className: \"checkmark\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120\n    },\n    __self: this\n  })), React.createElement(Grid, {\n    container: true,\n    spacing: 3,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132\n    },\n    __self: this\n  }, images[1] && !images[10] && images.map(image => React.createElement(\"span\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134\n    },\n    __self: this\n  }, React.createElement(PetImage, {\n    src: image.src,\n    addImages: bo,\n    className: \"petImage\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134\n    },\n    __self: this\n  })))), React.createElement(Dropzone, {\n    onDrop: e => onDrop(e),\n    multiple: false,\n    style: 'smlDropzone',\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    className: \"form-group\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144\n    },\n    __self: this\n  }, React.createElement(\"textarea\", {\n    placeholder: \"Add More Info..\",\n    name: \"general\",\n    onChange: e => onChange(e),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145\n    },\n    __self: this\n  }), React.createElement(\"small\", {\n    className: \"form-text\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147\n    },\n    __self: this\n  }, \"Add what ever you want\")), React.createElement(\"input\", {\n    type: \"submit\",\n    className: \"btn btn-primary my-1\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149\n    },\n    __self: this\n  }), React.createElement(\"a\", {\n    className: \"btn btn-light my-1\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150\n    },\n    __self: this\n  }, \"Go Back\"))));\n};\n\nCreatePetProfile.propTypes = {\n  createPet: PropTypes.func.isRequired\n};\nexport default connect(null, {\n  createPet\n})(withRouter(CreatePetProfile));","map":{"version":3,"sources":["C:/Users/shahar/Desktop/webS/MyProjacts/ChatPet/client-side/src/components/PetProfile/forms/CreatePetProfile.js"],"names":["React","Fragment","useState","createPet","PropTypes","connect","withRouter","Dropzone","PetImage","Grid","CreatePetProfile","history","src","info","images","setImages","profileImage","name","sex","type","race","age","descreption","traind","cost","petFormData","setPetFormData","addImages","setAddImages","getBase64","image","Promise","resolve","reject","reader","FileReader","onload","result","onerror","error","readAsDataURL","fixImages","photos","shift","onDrop","e","id","length","onChange","target","value","addInfo","sentData","preventDefault","map","bo","propTypes","func","isRequired"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,QAA1B,QAA0C,OAA1C;AACA,SAAQC,SAAR,QAAwB,0BAAxB;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,SAAQC,OAAR,QAAsB,aAAtB;AACA,SAAQC,UAAR,QAAyB,kBAAzB;AACA,OAAOC,QAAP,MAAqB,8BAArB;AACA,OAAOC,QAAP,MAAqB,aAArB;AACA,OAAOC,IAAP,MAAiB,wBAAjB;;AAEA,MAAMC,gBAAgB,GAAG,CAAC;AAACP,EAAAA,SAAD;AAAYQ,EAAAA;AAAZ,CAAD,KAA0B;AAAA,oBACrBT,QAAQ,CAAC,CAAC;AACpCU,IAAAA,GAAG,EAAC,EADgC;AAEpCC,IAAAA,IAAI,EAAC;AAF+B,GAAD,CAAD,CADa;AAAA;AAAA,QAC1CC,MAD0C;AAAA,QAClCC,SADkC;;AAAA,qBAMXb,QAAQ,CAAC;AAC3Cc,IAAAA,YAAY,EAAC,EAD8B;AAE3CC,IAAAA,IAAI,EAAC,EAFsC;AAG3CC,IAAAA,GAAG,EAAC,EAHuC;AAI3CC,IAAAA,IAAI,EAAC,EAJsC;AAK3CC,IAAAA,IAAI,EAAC,EALsC;AAM3CC,IAAAA,GAAG,EAAC,IANuC;AAO3CC,IAAAA,WAAW,EAAC,EAP+B;AAQ3CC,IAAAA,MAAM,EAAC,KARoC;AAS3CC,IAAAA,IAAI,EAAC;AATsC,GAAD,CANG;AAAA;AAAA,QAM1CC,WAN0C;AAAA,QAM7BC,cAN6B;;AAAA,qBAkBbxB,QAAQ,CAAC,KAAD,CAlBK;AAAA;AAAA,QAkBxCyB,SAlBwC;AAAA,QAkB7BC,YAlB6B;;AAqB/C,QAAMC,SAAS,GAAIC,KAAD,IAAW;AAC3B,WAAO,IAAIC,OAAJ,CAAY,CAACC,OAAD,EAASC,MAAT,KAAoB;AACpC,YAAMC,MAAM,GAAG,IAAIC,UAAJ,EAAf;;AACAD,MAAAA,MAAM,CAACE,MAAP,GAAgB,MAAMJ,OAAO,CAACE,MAAM,CAACG,MAAR,CAA7B;;AACAH,MAAAA,MAAM,CAACI,OAAP,GAAiBC,KAAK,IAAIN,MAAM,CAACM,KAAD,CAAhC;;AACAL,MAAAA,MAAM,CAACM,aAAP,CAAqBV,KAArB;AACF,KALM,CAAP;AAKG,GANL;;AAQE,QAAMW,SAAS,GAAG,MAAM;AACtB,UAAMC,MAAM,GAAG5B,MAAf;AACA4B,IAAAA,MAAM,CAACC,KAAP;AACAjB,IAAAA,cAAc,mBAAKD,WAAL;AAAkB,OAACA,WAAW,CAACT,YAAb,GAA4BF,MAAM,CAAC,CAAD;AAApD,OAAd;AACAC,IAAAA,SAAS,CAAC2B,MAAD,CAAT;AACD,GALD;;AAQJ,QAAME,MAAM,GAAE,MAAMC,CAAN,IAAU;AACtB9B,IAAAA,SAAS,CAAC,CACR,GAAGD,MADK,EACE;AACTgC,MAAAA,EAAE,EAAEhC,MAAM,CAACiC,MADF;AAETnC,MAAAA,GAAG,EAAE,MAAMiB,SAAS,CAACgB,CAAC,CAAC,CAAD,CAAF,CAFX;AAGThC,MAAAA,IAAI,EAAE;AAHG,KADF,CAAD,CAAT;AAOC,GARH;;AAUE,QAAMmC,QAAQ,GAAGH,CAAC,IAAG;AACnBnB,IAAAA,cAAc,mBAAKD,WAAL;AAAkB,OAACoB,CAAC,CAACI,MAAF,CAAShC,IAAV,GAAiB4B,CAAC,CAACI,MAAF,CAASC;AAA5C,OAAd;AACD,GAFD;;AAIA,QAAMC,OAAO,GAAG,CAACN,CAAD,EAAIC,EAAJ,KAAU;AACxB,UAAMJ,MAAM,GAAG5B,MAAf;AACA4B,IAAAA,MAAM,CAACI,EAAD,CAAN,CAAWjC,IAAX,GAAkBgC,CAAC,CAACI,MAAF,CAASC,KAA3B;AACAnC,IAAAA,SAAS,CAAC2B,MAAD,CAAT;AACD,GAJD;;AAOA,QAAMU,QAAQ,GAAG,MAAMP,CAAN,IAAU;AACzBA,IAAAA,CAAC,CAACQ,cAAF,GADyB,CAEzB;;AACA,UAAMlD,SAAS,CAACsB,WAAD,EAAcX,MAAd,EAAsBH,OAAtB,CAAf;AACAiB,IAAAA,YAAY,CAAC,IAAD,CAAZ;AACD,GALD;;AAQH,SAEC,oBAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACA;AAAS,IAAA,SAAS,EAAC,WAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAI,IAAA,SAAS,EAAC,oBAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,+BADJ,EAII;AAAG,IAAA,SAAS,EAAC,MAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAG,IAAA,SAAS,EAAC,YAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,+CAJJ,EAOI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BAPJ,EAQI;AAAM,IAAA,SAAS,EAAC,MAAhB;AAAuB,IAAA,QAAQ,EAAGiB,CAAC,IAAIO,QAAQ,CAACP,CAAD,CAA/C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACA;AAAK,IAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAO,IAAA,IAAI,EAAC,MAAZ;AAAmB,IAAA,WAAW,EAAC,cAA/B;AACC,IAAA,IAAI,EAAC,MADN;AACa,IAAA,QAAQ,EAAGA,CAAD,IAAOG,QAAQ,CAACH,CAAD,CADtC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,EAGI;AAAO,IAAA,SAAS,EAAC,WAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,8CAHJ,CADA,EAQE;AAAK,IAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAQ,IAAA,IAAI,EAAC,KAAb;AAAmB,IAAA,QAAQ,EAAGA,CAAD,IAAOG,QAAQ,CAACH,CAAD,CAA5C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAQ,IAAA,KAAK,EAAC,GAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gCADF,EAEE;AAAQ,IAAA,KAAK,EAAC,MAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAFF,EAGE;AAAQ,IAAA,KAAK,EAAC,QAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAHF,EAIE;AAAQ,IAAA,KAAK,EAAC,OAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAJF,CADF,CARF,EAgBE;AAAK,IAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAO,IAAA,IAAI,EAAC,MAAZ;AAAmB,IAAA,WAAW,EAAC,YAA/B;AACA,IAAA,IAAI,EAAC,MADL;AACY,IAAA,QAAQ,EAAGA,CAAD,IAAOG,QAAQ,CAACH,CAAD,CADrC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,EAGE;AAAO,IAAA,SAAS,EAAC,WAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kCAHF,CAhBF,EAsBE;AAAK,IAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAO,IAAA,IAAI,EAAC,MAAZ;AAAmB,IAAA,WAAW,EAAC,YAA/B;AACA,IAAA,IAAI,EAAC,MADL;AACY,IAAA,QAAQ,EAAGA,CAAD,IAAOG,QAAQ,CAACH,CAAD,CADrC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,EAGE;AAAO,IAAA,SAAS,EAAC,WAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAHF,CAtBF,EA4BE;AAAO,IAAA,SAAS,EAAC,UAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BACA;AAAO,IAAA,IAAI,EAAC,UAAZ;AACC,IAAA,IAAI,EAAC,QADN;AAEC,IAAA,QAAQ,EAAE,MAAK;AAChBnB,MAAAA,cAAc,mBAAKD,WAAL;AAAkBF,QAAAA,MAAM,EAAE,CAACE,WAAW,CAACF;AAAvC,SAAd;AAA8D,KAH9D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADA,EAKA;AAAM,IAAA,SAAS,EAAC,WAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IALA,CA5BF,EA6CA,oBAAC,IAAD;AAAM,IAAA,SAAS,MAAf;AAAgB,IAAA,OAAO,EAAE,CAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGT,MAAM,CAAC,CAAD,CAAN,IAAa,CAACA,MAAM,CAAC,EAAD,CAApB,IAA4BA,MAAM,CAACwC,GAAP,CAAWxB,KAAK,IAC3C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAM,oBAAC,QAAD;AAAU,IAAA,GAAG,EAAEA,KAAK,CAAClB,GAArB;AAA0B,IAAA,SAAS,EAAI2C,EAAvC;AAA2C,IAAA,SAAS,EAAC,UAArD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAAN,CAD2B,CAD/B,CA7CA,EAqDE,oBAAC,QAAD;AACA,IAAA,MAAM,EAAGV,CAAD,IAAOD,MAAM,CAACC,CAAD,CADrB;AAEA,IAAA,QAAQ,EAAE,KAFV;AAGA,IAAA,KAAK,EAAE,aAHP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IArDF,EAyDE;AAAK,IAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAU,IAAA,WAAW,EAAC,iBAAtB;AACA,IAAA,IAAI,EAAC,SADL;AACe,IAAA,QAAQ,EAAGA,CAAD,IAAOG,QAAQ,CAACH,CAAD,CADxC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,EAGE;AAAO,IAAA,SAAS,EAAC,WAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,8BAHF,CAzDF,EA8DE;AAAO,IAAA,IAAI,EAAC,QAAZ;AAAqB,IAAA,SAAS,EAAC,sBAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IA9DF,EA+DE;AAAG,IAAA,SAAS,EAAC,oBAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eA/DF,CARJ,CADA,CAFD;AA8EC,CAhJF;;AAkJAnC,gBAAgB,CAAC8C,SAAjB,GAA6B;AAC3BrD,EAAAA,SAAS,EAAEC,SAAS,CAACqD,IAAV,CAAeC;AADC,CAA7B;AAIA,eAAerD,OAAO,CAAC,IAAD,EACpB;AAACF,EAAAA;AAAD,CADoB,CAAP,CACCG,UAAU,CAACI,gBAAD,CADX,CAAf","sourcesContent":["import React, { Fragment, useState } from 'react'\r\nimport {createPet} from '../../../actions/petActs'\r\nimport PropTypes from 'prop-types'\r\nimport {connect} from 'react-redux'\r\nimport {withRouter} from 'react-router-dom'\r\nimport Dropzone from '../../imageSetting/Dropezone'\r\nimport PetImage from '../petImage'\r\nimport Grid from '@material-ui/core/Grid'\r\n\r\nconst CreatePetProfile = ({createPet, history}) => {\r\n  const [images, setImages] = useState([{\r\n    src:'',\r\n    info:''\r\n  }\r\n  ])  \r\n  const [petFormData, setPetFormData] = useState({\r\n      profileImage:'',\r\n      name:'',\r\n      sex:'',\r\n      type:'',\r\n      race:'',\r\n      age:null,\r\n      descreption:'',\r\n      traind:false,\r\n      cost:''\r\n    })\r\n\r\n    const [addImages, setAddImages] = useState(false)\r\n\r\n\r\n    const getBase64 = (image) => {\r\n      return new Promise((resolve,reject) => {\r\n         const reader = new FileReader();\r\n         reader.onload = () => resolve(reader.result);\r\n         reader.onerror = error => reject(error);\r\n         reader.readAsDataURL(image)\r\n      })}\r\n\r\n      const fixImages = () => {\r\n        const photos = images\r\n        photos.shift()\r\n        setPetFormData({...petFormData, [petFormData.profileImage]: images[0]})\r\n        setImages(photos)\r\n      }\r\n\r\n\r\n  const onDrop =async e =>{\r\n    setImages([\r\n      ...images,{\r\n       id: images.length,\r\n       src: await getBase64(e[0]),\r\n       info: ''\r\n      }\r\n      ])\r\n    }\r\n\r\n    const onChange = e =>{\r\n      setPetFormData({...petFormData, [e.target.name]: e.target.value})\r\n    }\r\n\r\n    const addInfo = (e, id) =>{\r\n      const photos = images\r\n      photos[id].info = e.target.value\r\n      setImages(photos)\r\n    }\r\n\r\n\r\n    const sentData = async e =>{\r\n      e.preventDefault()\r\n      // await fixImages()\r\n      await createPet(petFormData, images, history)\r\n      setAddImages(true)\r\n    }\r\n\r\n\r\n return (\r\n\r\n  <Fragment>\r\n  <section className=\"container\">\r\n      <h1 className=\"large text-primary\">\r\n        Create Your Pet Profile\r\n      </h1>\r\n      <p className=\"lead\">\r\n        <i className=\"fas fa-pet\"></i> Let's get some information about your pet\r\n      </p>\r\n      <small>* = required field</small>\r\n      <form className=\"form\" onSubmit= {e => sentData(e)}>\r\n      <div className=\"form-group\">\r\n          <input type=\"text\" placeholder=\"* Pet's Name\"\r\n           name=\"name\" onChange={(e) => onChange(e)}/>\r\n          <small className=\"form-text\"\r\n            >This is how your pet will be presented\r\n            </small>\r\n        </div>\r\n        <div className=\"form-group\">\r\n          <select name=\"sex\" onChange={(e) => onChange(e)}>\r\n            <option value=\"0\">* Select Your Pet Gender</option>\r\n            <option value=\"male\">Male</option>\r\n            <option value=\"female\">female</option>\r\n            <option value=\"other\">Other</option>\r\n          </select>\r\n        </div>\r\n        <div className=\"form-group\">\r\n          <input type=\"text\" placeholder=\"Pet's Type\" \r\n          name=\"type\" onChange={(e) => onChange(e)}/>\r\n          <small className=\"form-text\"\r\n            >What Kind Of Animal Is It?</small>\r\n        </div>\r\n        <div className=\"form-group\">\r\n          <input type=\"text\" placeholder=\"Pet's Race\" \r\n          name=\"race\" onChange={(e) => onChange(e)}/>\r\n          <small className=\"form-text\"\r\n            >Only If You Know</small>\r\n        </div>\r\n        <label className=\"checkBox\">Is Your Pet Traind?\r\n        <input type=\"checkbox\"\r\n         name='traind'\r\n         onChange={() =>{\r\n        setPetFormData({...petFormData, traind: !petFormData.traind})}}/>\r\n        <span className=\"checkmark\"></span>\r\n        </label>\r\n        {/* <Grid container spacing={3}>\r\n        {images[1] && !images[10] && images.map(image =>(\r\n          image.src ? (<span><PetImage src={image.src} bo = {bo} className='petImage'/> \r\n          <textarea placeholder=\"Tell As About The Moment You Took The Photo \" \r\n          onChange={(e) => addInfo(e, image.id)}></textarea> \r\n          </span> ) : (null)\r\n            \r\n        ))}\r\n        </Grid> */}\r\n\r\n      <Grid container spacing={3}>\r\n        {images[1] && !images[10] && images.map(image =>(\r\n          <span><PetImage src={image.src} addImages = {bo} className='petImage'/> \r\n          </span> \r\n            \r\n        ))}\r\n        </Grid>\r\n\r\n        <Dropzone \r\n        onDrop={(e) => onDrop(e)}  \r\n        multiple={false}\r\n        style={'smlDropzone'}/>\r\n        <div className=\"form-group\">\r\n          <textarea placeholder=\"Add More Info..\" \r\n          name=\"general\" onChange={(e) => onChange(e)}/>\r\n          <small className=\"form-text\">Add what ever you want</small>\r\n        </div>\r\n        <input type=\"submit\" className=\"btn btn-primary my-1\" />\r\n        <a className=\"btn btn-light my-1\" >Go Back</a>\r\n      </form>\r\n    </section>\r\n    </Fragment>\r\n)}\r\n\r\nCreatePetProfile.propTypes = {\r\n  createPet: PropTypes.func.isRequired\r\n}\r\n\r\nexport default connect(null,\r\n  {createPet}) (withRouter(CreatePetProfile))\r\n"]},"metadata":{},"sourceType":"module"}