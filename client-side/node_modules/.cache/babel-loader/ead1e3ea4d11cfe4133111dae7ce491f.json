{"ast":null,"code":"import _objectSpread from\"C:\\\\Users\\\\shahar\\\\Desktop\\\\webS\\\\MyProjacts\\\\ChatPet\\\\client-side\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import{REGISTER_SUCCESS,USER_LOADED,LOGIN_SUCCESS,LOGOUT,ACCOUNT_DELETED,REGISTER_FAIL,AUTH_EROR,LOGIN_FAIL}from'../actions/consts';var initialState={token:localStorage.getItem('token'),isAuthenticated:false,loading:true,user:null};export default function(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:initialState;var action=arguments.length>1?arguments[1]:undefined;var type=action.type,data=action.data;switch(type){case REGISTER_SUCCESS:case LOGIN_SUCCESS:localStorage.setItem('token',data.token);return _objectSpread({},state,{},data,{isAuthenticated:true,loading:false});case REGISTER_FAIL:case LOGIN_FAIL:case AUTH_EROR:case LOGOUT:case ACCOUNT_DELETED:localStorage.removeItem('token');return _objectSpread({},state,{token:null,isAuthenticated:false,loading:false});case USER_LOADED:return _objectSpread({},state,{isAuthenticated:true,loading:false,user:data});default:return state;}}","map":{"version":3,"sources":["C:/Users/shahar/Desktop/webS/MyProjacts/ChatPet/client-side/src/reducers/auth.js"],"names":["REGISTER_SUCCESS","USER_LOADED","LOGIN_SUCCESS","LOGOUT","ACCOUNT_DELETED","REGISTER_FAIL","AUTH_EROR","LOGIN_FAIL","initialState","token","localStorage","getItem","isAuthenticated","loading","user","state","action","type","data","setItem","removeItem"],"mappings":"6LAAA,OACIA,gBADJ,CAEIC,WAFJ,CAGIC,aAHJ,CAIIC,MAJJ,CAKIC,eALJ,CAMIC,aANJ,CAOIC,SAPJ,CAQIC,UARJ,KAUO,mBAVP,CAYA,GAAMC,CAAAA,YAAY,CAAG,CACjBC,KAAK,CAAEC,YAAY,CAACC,OAAb,CAAqB,OAArB,CADU,CAEjBC,eAAe,CAAE,KAFA,CAGjBC,OAAO,CAAE,IAHQ,CAIjBC,IAAI,CAAE,IAJW,CAArB,CAOA,cAAe,WAAsC,IAA7BC,CAAAA,KAA6B,2DAArBP,YAAqB,IAAPQ,CAAAA,MAAO,8CAC1CC,CAAAA,IAD0C,CAC5BD,MAD4B,CAC1CC,IAD0C,CACpCC,IADoC,CAC5BF,MAD4B,CACpCE,IADoC,CAEjD,OAAOD,IAAP,EACI,IAAKjB,CAAAA,gBAAL,CACA,IAAKE,CAAAA,aAAL,CACIQ,YAAY,CAACS,OAAb,CAAqB,OAArB,CAA8BD,IAAI,CAACT,KAAnC,EACA,wBACOM,KADP,IAEOG,IAFP,EAGIN,eAAe,CAAE,IAHrB,CAIIC,OAAO,CAAE,KAJb,GAMJ,IAAKR,CAAAA,aAAL,CACA,IAAKE,CAAAA,UAAL,CACA,IAAKD,CAAAA,SAAL,CACA,IAAKH,CAAAA,MAAL,CACA,IAAKC,CAAAA,eAAL,CACIM,YAAY,CAACU,UAAb,CAAwB,OAAxB,EACA,wBACOL,KADP,EAEIN,KAAK,CAAE,IAFX,CAGIG,eAAe,CAAE,KAHrB,CAIIC,OAAO,CAAE,KAJb,GAMJ,IAAKZ,CAAAA,WAAL,CACI,wBACOc,KADP,EAEIH,eAAe,CAAE,IAFrB,CAGIC,OAAO,CAAE,KAHb,CAIIC,IAAI,CAAEI,IAJV,GAMJ,QACI,MAAOH,CAAAA,KAAP,CA9BR,CAgCH","sourcesContent":["import {\r\n    REGISTER_SUCCESS,\r\n    USER_LOADED,\r\n    LOGIN_SUCCESS,\r\n    LOGOUT,\r\n    ACCOUNT_DELETED,\r\n    REGISTER_FAIL,\r\n    AUTH_EROR,\r\n    LOGIN_FAIL,\r\n\r\n} from '../actions/consts'\r\n\r\nconst initialState = {\r\n    token: localStorage.getItem('token'),\r\n    isAuthenticated: false,\r\n    loading: true,\r\n    user: null\r\n}\r\n\r\nexport default function(state = initialState, action){\r\n    const {type, data} = action\r\n    switch(type){\r\n        case REGISTER_SUCCESS:\r\n        case LOGIN_SUCCESS:\r\n            localStorage.setItem('token', data.token)\r\n            return{\r\n                ...state,\r\n                ...data,\r\n                isAuthenticated: true,\r\n                loading: false\r\n            }\r\n        case REGISTER_FAIL:\r\n        case LOGIN_FAIL:\r\n        case AUTH_EROR:\r\n        case LOGOUT:\r\n        case ACCOUNT_DELETED:\r\n            localStorage.removeItem('token')\r\n            return{\r\n                ...state,\r\n                token: null,\r\n                isAuthenticated: false,\r\n                loading: false\r\n            }\r\n        case USER_LOADED:\r\n            return{\r\n                ...state,\r\n                isAuthenticated: true,\r\n                loading: false,\r\n                user: data\r\n                }\r\n        default:\r\n            return state\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}